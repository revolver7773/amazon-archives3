{
    "$schema" : "http://json-schema.org/draft-04/schema#",
    "id" : "featureTable.schema.json",
    "title" : "Feature Table",
    "type" : "object",
    "description" : "A set of semantics containing per-tile and per-feature values defining the position and appearance properties for features in a tile.",
    "patternProperties" : {
        ".*" : {
            "properties" : {
                "byteOffset" : {
                    "type" : "integer",
                    "minimum" : 0
                }
            }
        }
    },
    "definitions" : {
        "binaryReference" : {
            "type" : "object",
            "required" : ["byteOffset"]
        },
        "numericArray" : {
            "type" : "array",
            "items" : {
                "type" : "number"
            }
        },
        "perFeaturePropertyNumeric" : {
            "oneOf" : [{
                    "$ref" : "#/definitions/binaryReference"
                }, {
                    "$ref" : "#/definitions/numericArray"
                }
            ]
        },
        "globalPropertyScalar" : {
            "oneOf" : [{
                "$ref" : "#/definitions/binaryReference"
            }, {
                "allOf" : [{
                    "$ref" : "#/definitions/numericArray"
                }, {
                    "minItems" : 1,
                    "maxItems" : 1
                }]
            }, {
                "type" : "integer",
                "minimum" : 0
            }]
        },
        "globalPropertyCartesian3" : {
            "oneOf" : [{
                "$ref" : "#/definitions/binaryReference"
            }, {
                "allOf" : [{
                    "$ref": "#/definitions/numericArray"
                }, {
                    "minItems" : 3,
                    "maxItems" : 3
                }]
            }]
        },
        "globalPropertyCartesian4" : {
            "oneOf" : [{
                "$ref" : "#/definitions/binaryReference"
            }, {
                "allOf": [{
                    "$ref": "#/definitions/numericArray"
                }, {
                    "minItems": 4,
                    "maxItems": 4
                }]
            }]
        }
    }
}
